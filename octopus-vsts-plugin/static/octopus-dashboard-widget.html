<!DOCTYPE html>
<html>

<head>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
</head>

<body>
    <div id="widget-setup" data-bind="visible: setupVisible" class="configure-widget widget-notification">
        <a class="action-required-link" href="#">
            <h2 class="title-container truncated-text-ellipsis" title="Octopus Dashboard">Octopus Dashboard</h2>
            <div class="content">
                <div class="widget-message-text">Configure widget</div>
                <div class="bgImage"></div>
                <span class="link-text"></span>
            </div>
        </a>
    </div>
    <div id="widget-shell" data-bind="visible: !setupVisible()" class="widget">
        <h2 id="title" data-bind="text: title" class="title">Octopus Deploy Dashboard</h2>
        <div class="content">
            <a id="widget-link" href="#" target="_blank" data-bind="attr: { title: title }" >
                <div id="deploy-container" class="deployment-envs-container" data-bind="foreach: deployments">
                    <div class="deployment-env-container" data-bind="id: deployId">
                        <a id="deployment-link" href="#" target="_blank" data-bind="attr: { href: deployLink, title: metadata }">
                            <div id="environment-container" class="env-container" data-bind="css: environmentStatus" >
                                <div id="environment-name" class="env-name text-wrap" data-bind="text: environmentName"></div>
                            </div>
                            <div id="deploy-status" class="status-positioning" data-bind="css: environmentStatus">
                                <i id="deploy-status-icon" class="status-icon fa" data-bind="css: deployStatus"></i>
                            </div>
                            <div id="deploy-version" class="release-name truncated-text-ellipsis" data-bind="text: releaseNumber"></div>
                            <div id="deploy-date" class="release-date" data-bind="text: deployDate"></div>
                        </a>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <script src="lib/VSS.SDK.min.js"></script>
    <script src="moment.js"></script>
    <script src="moment-timezone.js"></script>
    <script src="axios.js"></script>

    <script type="text/javascript">
        VSS.init(
            {
                explicitNotifyLoaded: true,
                setupModuleLoader: true,
                usePlatformScripts: true,
                usePlatformStyles: true
            });
        VSS.ready(function () {
            require(["octopus-dashboard/main"], function (main) { });
        });
    </script>
</body>

</html>